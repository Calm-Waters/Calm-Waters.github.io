<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Forge</title>
    <link rel="icon" href="images/favicon.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <script>
        document.addEventListener('contextmenu', function(event) {
            event.preventDefault();
        });
        
        const firebaseConfig = {
            apiKey: "AIzaSyA3k7RiiqOTWRyNgFdw4Z2-c1Cm106OdLo",
            authDomain: "custom-nexus.firebaseapp.com",
            projectId: "custom-nexus",
            storageBucket: "custom-nexus.firebasestorage.app",
            messagingSenderId: "469054983781",
            appId: "1:469054983781:web:ac4f0bc7681074b6edc08c"
        };
        firebase.initializeApp(firebaseConfig);
        
        // load module as main page
        function loadPage(moduleName) {
            if ((window[moduleName + '_mod']) && false /* false to force reload during testing*/) {
                document.body.innerHTML = window[moduleName + '_mod'];
                // Run any additional JavaScript logic in the module if it exists
                if (window[moduleName + '_init']) {
                    window[moduleName + '_init'](); 
                }
            } else {
                const scriptUrl = `modules/${moduleName}.js`;
                const script = document.createElement('script');
                script.src = scriptUrl;
                script.type = 'text/javascript';
                script.onload = function() {
                    const content = window[moduleName + '_mod'];
                    if (content) {
                        document.body.innerHTML = content;
                        if (window[moduleName + '_init']) {
                            window[moduleName + '_init'](); 
                        }
                    } else {
                        document.body.innerHTML = '<p>Error: Module content is undefined.</p>';
                    }
                };
                script.onerror = function() {document.body.innerHTML = '<p>Error loading module.</p>'; };
                document.body.appendChild(script);
            }
        }
        loadPage('login');
    </script>
</body>
</html>
